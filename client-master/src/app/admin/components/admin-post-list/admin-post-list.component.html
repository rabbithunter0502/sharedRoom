<div class="admin-post-list">
  <h2>Danh sách bài đăng</h2>

  <mat-form-field>
    <mat-label>Lọc danh sách</mat-label>
    <input
      matInput
      (keyup)="applyFilter($event)"
      placeholder="Nhập từ khóa"
      autocomplete="off"
    />
  </mat-form-field>

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="apartmentNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Số nhà</th>
        <td mat-cell *matCellDef="let post">{{ post.apartmentNumber }}</td>
      </ng-container>

      <ng-container matColumnDef="street">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Đường/Phố</th>
        <td mat-cell *matCellDef="let post">{{ post.street }}</td>
      </ng-container>

      <ng-container matColumnDef="district">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Quận/Huyện</th>
        <td mat-cell *matCellDef="let post">{{ post.district }}</td>
      </ng-container>

      <ng-container matColumnDef="province">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tỉnh/TP</th>
        <td mat-cell *matCellDef="let post">{{ post.province }}</td>
      </ng-container>

      <ng-container matColumnDef="acreage">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Diện tích (m<sup>2</sup>)
        </th>
        <td mat-cell *matCellDef="let post">{{ post.acreage }}</td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Giá thuê (tháng)
        </th>
        <td mat-cell *matCellDef="let post">
          {{ post.price | currency: "VND" }}
        </td>
      </ng-container>

      <ng-container matColumnDef="dateSubmitted">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày đăng</th>
        <td mat-cell *matCellDef="let post">
          {{ post.dateSubmitted | date: "dd/MM/yyyy hh:mm:ss" }}
        </td>
      </ng-container>

      <ng-container matColumnDef="dateExpiration">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ngày hết hạn</th>
        <td mat-cell *matCellDef="let post">
          {{ post.dateExpiration | date: "dd/MM/yyyy hh:mm:ss" }}
        </td>
      </ng-container>

      <ng-container matColumnDef="isActive">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Hoạt động</th>
        <td mat-cell *matCellDef="let post">
          <span class="{{ post.isActive ? 'text-success' : 'text-danger' }}">{{
            post.isActive ? "Hoạt động" : "Ngừng hoạt động"
          }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let post">
          <a
            class="btn btn-sm btn-outline-secondary"
            routerLink="/posts/{{ post.id }}"
            data-toggle="tooltip"
            data-placement="bottom"
            title="Chỉnh sửa"
            target="_blank"
          >
            <i class="far fa-edit"></i>
          </a>
        </td>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let account; columns: displayedColumns"></mat-row>
    </table>

    <mat-paginator
      [pageSize]="10"
      [pageSizeOptions]="[5, 10, 25]"
      showFirstLastButtons
      itemsPerPageLabel="Số tài khoản mỗi trang"
    ></mat-paginator>
  </div>

  <ng-template #loading>
    <app-loading></app-loading>
  </ng-template>
</div>
