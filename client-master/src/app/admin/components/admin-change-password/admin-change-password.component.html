<div class="admin-change-password">
  <h2>Thay đổi mật khẩu</h2>
  <p>Hành động này yêu cầu đăng nhập lại, gõ {{ email }} để xác nhận.</p>

  <div class="card" *ngIf="form; else loading">
    <div class="card-body">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <mat-form-field appearance="legacy">
            <mat-label>Xác nhận email</mat-label>
            <input type="text" matInput formControlName="confirmEmail" />
            <mat-error
              class="invalid-feedback"
              *ngIf="form.get('confirmEmail').errors?.required"
              >Hãy xác nhận địa chỉ email.
            </mat-error>
            <mat-error
              class="invalid-feedback"
              *ngIf="form.get('confirmEmail').errors?.matchPassword"
              >Xác nhận email không chính xác.
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <button type="button" mat-raised-button (click)="back()">
            Quay lại
          </button>
          <button mat-raised-button color="primary" [disabled]="form.invalid">
            Gửi yêu cầu đổi mật khẩu
          </button>
        </div>
      </form>
    </div>
  </div>

  <ng-template #loading>
    <app-loading></app-loading>
  </ng-template>
</div>
